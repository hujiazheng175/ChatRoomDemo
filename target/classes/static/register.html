<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>注册 - XiaoMing's ChatRoom</title>
    <link href="./css/register.css" rel="stylesheet">
    <script src="JS/vue.global.prod.min.js"></script>
    <script src="JS/axios.min.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
<div id="app">
    <div class="register-container">
        <div class="register-box">
            <div class="register-header">
                <i class="fas fa-user-plus"></i>
                <h2>注册账号</h2>
            </div>
            <div class="register-form">
                <div class="avatar-upload">
                    <img :alt="avatarPreview === './assets/defaultImg.jpg' ? '默认头像' : '用户上传的头像'"
                         :src="avatarPreview"
                         @click="triggerFileInput"
                         class="avatar-preview"
                         title="点击更换头像">
                    <div class="avatar-tip">点击更换头像（支持jpg、png格式，最大5MB）</div>
                    <input
                            @change="handleFileChange"
                            accept="image/jpeg,image/png"
                            ref="fileInput"
                            style="display: none"
                            type="file">
                </div>

                <div class="input-group">
                    <div class="input-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <input
                            placeholder="用户名（3-20个字符）"
                            type="text"
                            v-model="username"
                    >
                </div>

                <div class="input-group">
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <input
                            placeholder="密码（至少6位）"
                            type="password"
                            v-model="password"
                    >
                </div>

                <div class="input-group">
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <input
                            placeholder="确认密码"
                            type="password"
                            v-model="confirmPassword"
                    >
                </div>

                <button
                        :disabled="!canRegister"
                        @click="handleRegister"
                        class="register-btn"
                >
                    {{ isLoading ? '注册中...' : '注册' }}
                </button>

                <div class="login-link">
                    已有账号？<a href="login.html">立即登录</a>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="./JS/register.js"></script>
</body>
</html> 